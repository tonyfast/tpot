<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Randal S. Olson">
  
  <title>Using TPOT - TPOT</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Using TPOT";
    var mkdocs_page_input_path = "using.md";
    var mkdocs_page_url = "/using/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> TPOT</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installing/">Installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Using TPOT</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#tpot-on-the-command-line">TPOT on the command line</a></li>
                
            
                <li class="toctree-l3"><a href="#tpot-with-code">TPOT with code</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Examples</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/MNIST_Example/">MNIST Example</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/IRIS_Example/">IRIS Example</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/Titanic_Kaggle_Example/">Titanic Kaggle Example</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/Custom_Scoring_Functions/">Custom Scoring Functions</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Reference</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/">Index</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/TPOT/">TPOT Object</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Pipeline Operators</span></li>

        
            
    <ul class="subnav">
    <li><span>Models</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/models/classifiers/tree/DecisionTreeClassifier/">DecisionTreeClassifier</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/models/classifiers/ensemble/RandomForestClassifier/">RandomForestClassifier</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/models/classifiers/ensemble/XGBClassifier/">XGBClassifier</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/models/classifiers/svm/SVC/">SVC</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/models/classifiers/nearest_neighbors/kNeighborsClassifier/">kNeighborsClassifier</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/models/classifiers/linear_model/LogisticRegression/">LogisticRegression</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Pre-Processing</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/scaling/StandardScaler/">StandardScaler</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/scaling/RobustScaler/">RobustScaler</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/scaling/MinMaxScaler/">MinMaxScaler</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/scaling/MaxAbsScaler/">MaxAbsScaler</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/scaling/Binarizer/">Binarizer</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/PolynomialFeatures/">PolynomialFeatures</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/preprocessing/ZeroCount/">ZeroCount</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Feature Selection</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/feature_selection/VarianceThreshold/">VarianceThreshold</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/feature_selection/SelectKBest/">SelectKBest</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/feature_selection/SelectPercentile/">SelectPercentile</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/feature_selection/RFE/">RFE</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Decomposition</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/decomposition/RandomizedPCA/">RandomizedPCA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/decomposition/FastICA/">FastICA</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Kernel Approximation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/kernel_approximation/RBFSampler/">RBFSampler</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/kernel_approximation/Nystroem/">Nystroem</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Cluster</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../documentation/pipeline_operators/cluster/FeatureAgglomeration/">FeatureAgglomeration</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../contributing/">Contributing</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">TPOT</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Using TPOT</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/rhiever/tpot" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="tpot-on-the-command-line">TPOT on the command line</h1>
<p>To use TPOT via the command line, enter the following command to see the parameters that TPOT can receive:</p>
<pre><code class="Shell">tpot --help

usage: tpot [-h] [-is INPUT_SEPARATOR] [-o OUTPUT_FILE] [-g GENERATIONS]
            [-p POPULATION_SIZE] [-mr MUTATION_RATE] [-xr CROSSOVER_RATE]
            [-s RANDOM_STATE] [-v {0,1,2}] [--disable-update-check]
            [--version]
            INPUT_FILE

A Python tool that automatically creates and optimizes machine learning
pipelines using genetic programming.

positional arguments:
  INPUT_FILE            Data file to optimize the pipeline on; ensure that the
                        class column is labeled as &quot;class&quot;

optional arguments:
  -h, --help            show this help message and exit
  -is INPUT_SEPARATOR   Character used to separate columns in the input file
  -o OUTPUT_FILE        File to export the final optimized pipeline
  -g GENERATIONS        Number of generations to run pipeline optimization
  -p POPULATION_SIZE    Number of individuals in the GP population
  -mr MUTATION_RATE     GP mutation rate in the range [0.0, 1.0]
  -xr CROSSOVER_RATE    GP crossover rate in the range [0.0, 1.0]
  -s RANDOM_STATE       Random number generator seed for reproducibility
  -v {0,1,2}            How much information TPOT communicates while it is
                        running; 0 = none, 1 = minimal, 2 = all
  --disable-update-check
                        Flag indicating whether the TPOT version checker
                        should be disabled
  --version             show program's version number and exit
</code></pre>

<p>An example command-line call to TPOT may look like:</p>
<pre><code class="Shell">tpot data/mnist.csv -is , -o tpot_exported_pipeline.py -g 100 -s 42 -v 2
</code></pre>

<h1 id="tpot-with-code">TPOT with code</h1>
<p>We've taken care to design the TPOT interface to be as similar as possible to scikit-learn.</p>
<p>TPOT can be imported just like any regular Python module. To import TPOT, type:</p>
<pre><code class="Python">from tpot import TPOT
</code></pre>

<p>then create an instance of TPOT as follows:</p>
<pre><code class="Python">from tpot import TPOT

pipeline_optimizer = TPOT()
</code></pre>

<p>Note that you can pass several parameters to the TPOT instantiation call:</p>
<ul>
<li><code>generations</code>: The number of generations to run pipeline optimization for. Must be &gt; 0. The more generations you give TPOT to run, the longer it takes, but it's also more likely to find better pipelines.</li>
<li><code>population_size</code>: The number of pipelines in the genetic algorithm population. Must be &gt; 0. The more pipelines in the population, the slower TPOT will run, but it's also more likely to find better pipelines.</li>
<li><code>mutation_rate</code>: The mutation rate for the genetic programming algorithm in the range [0.0, 1.0]. This tells the genetic programming algorithm how many pipelines to apply random changes to every generation. We don't recommend that you tweak this parameter unless you know what you're doing.</li>
<li><code>crossover_rate</code>: The crossover rate for the genetic programming algorithm in the range [0.0, 1.0]. This tells the genetic programming algorithm how many pipelines to "breed" every generation. We don't recommend that you tweak this parameter unless you know what you're doing.</li>
<li><code>random_state</code>: The random number generator seed for TPOT. Use this to make sure that TPOT will give you the same results each time you run it against the same data set with that seed.</li>
<li><code>verbosity</code>: How much information TPOT communicates while it's running. 0 = none, 1 = minimal, 2 = all</li>
<li><code>scoring_function</code>: Function used to evaluate the goodness of a given pipeline for the classification problem. By default, balanced class accuracy is used. See <a href="../examples/Custom_Scoring_Functions/">here</a> for more information on custom scoring functions.</li>
<li><code>disable_update_check</code>: Flag indicating whether the TPOT version checker should be disabled.</li>
</ul>
<p>Some example code with custom TPOT parameters might look like:</p>
<pre><code class="Python">from tpot import TPOT

pipeline_optimizer = TPOT(generations=100, random_state=42, verbosity=2)
</code></pre>

<p>Now TPOT is ready to work! You can tell TPOT to optimize a pipeline based on a data set with the <code>fit</code> function:</p>
<pre><code class="Python">from tpot import TPOT

pipeline_optimizer = TPOT(generations=100, random_state=42, verbosity=2)
pipeline_optimizer.fit(training_features, training_classes)
</code></pre>

<p>The <code>fit()</code> function takes in a training data set, then further divides it into a training and validation data set (so as to do cross-validation). It then initializes the Genetic Algoritm to find the best pipeline based on the validation set performance evaluated on the basis of a scoring function (generally the classification accuracy, but can be user defined as well like precision/recall/f1, etc).   </p>
<p>You can then proceed to evaluate the final pipeline on the test set with the <code>score()</code> function:</p>
<pre><code class="Python">from tpot import TPOT

pipeline_optimizer = TPOT(generations=100, random_state=42, verbosity=2)
pipeline_optimizer.fit(training_features, training_classes)
print(pipeline_optimizer.score(testing_features, testing_classes))
</code></pre>

<p>Finally, you can tell TPOT to export the corresponding Python code for the optimized pipeline to a text file with the <code>export()</code> function:</p>
<pre><code class="Python">from tpot import TPOT

pipeline_optimizer = TPOT(generations=100, random_state=42, verbosity=2)
pipeline_optimizer.fit(training_features, training_classes)
print(pipeline_optimizer.score(testing_features, testing_classes))
pipeline_optimizer.export('tpot_exported_pipeline.py')
</code></pre>

<p>Once this code finishes running, <code>tpot_exported_pipeline.py</code> will contain the Python code for the optimized pipeline.</p>
<p>Check our <a href="../examples/MNIST_Example/">examples</a> to see TPOT applied to some specific data sets.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../examples/MNIST_Example/" class="btn btn-neutral float-right" title="MNIST Example">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../installing/" class="btn btn-neutral" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2016-Present <a href="http://www.randalolson.com">Randal S. Olson</a></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/rhiever/tpot" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../installing/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../examples/MNIST_Example/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
